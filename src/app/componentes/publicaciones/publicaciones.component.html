<!--Seleccionado-->
<div *ngIf=""></div>
<div class="fondoPublicaciones img-fluid">
  <div class="container">
    <!--Publicaciones en Ventanas-->
    <!--Crear Publicaci칩n-->
    <form [formGroup]="formularioAutomovil" (ngSubmit)="CrearAutomovil()">  
      <div class="row login1">
        <h2>Publicar:</h2>
          <div class="col-6 login1">
              <!--Patente-->  
              <span>Patente </span><i [ngClass]="{'validado bi-x-circle-fill': formularioAutomovil.get('patente')?.hasError('required'), 'error bi bi-check-circle-fill iconos' : !formularioAutomovil.get('patente')?.hasError('required')}" id="iconoPatente"></i><span class="mensajePatente"></span>
              <input type="text" class="form-control inputs" formControlName="patente" id="patente" class="form-control">
              <!--Marca-->
              <span>Marca </span><i [ngClass]="{'validado bi-x-circle-fill': formularioAutomovil.get('marca')?.hasError('required'), 'error bi bi-check-circle-fill iconos' : !formularioAutomovil.get('marca')?.hasError('required')}" id="iconoMarca"></i><span class="mensajeMarca"></span>
              <input type="text" class="form-control inputs" formControlName="marca" id="marca" class="form-control">
              <!--Modelo-->
              <span>Modelo </span><i [ngClass]="{'validado bi-x-circle-fill': formularioAutomovil.get('modelo')?.hasError('required'), 'error bi bi-check-circle-fill iconos' : !formularioAutomovil.get('modelo')?.hasError('required')}" id="iconoModelo"></i><span class="mensajeModelo"></span>
              <input type="text" class="form-control inputs" formControlName="modelo" id="modelo" class="form-control">
              <!--Version-->
              <span>Version </span><i [ngClass]="{'validado bi-x-circle-fill': formularioAutomovil.get('version')?.hasError('required'), 'error bi bi-check-circle-fill iconos' : !formularioAutomovil.get('version')?.hasError('required')}" id="iconoVersion"></i><span class="mensajeVersion"></span>
              <input type="text" class="form-control inputs" formControlName="version" id="version" class="form-control">
              <!--Color-->
              <span>Color </span><i [ngClass]="{'validado bi-x-circle-fill': formularioAutomovil.get('color')?.hasError('required'), 'error bi bi-check-circle-fill iconos' : !formularioAutomovil.get('color')?.hasError('required')}"></i><span class="mensajeColor"></span>
              <input type="text" class="form-control inputs" formControlName="color" id="color" class="form-control">
              <!--Estado-->
              <span>Estado </span><i [ngClass]="{'validado bi-x-circle-fill': formularioAutomovil.get('estado')?.hasError('required'), 'error bi bi-check-circle-fill iconos' : !formularioAutomovil.get('estado')?.hasError('required')}"></i><span class="mensajeEstado"></span>
              <input type="text" class="form-control inputs" formControlName="estado" id="estado" class="form-control">
            </div>
            <div class="col-6 login1">
              <!--Cambio-->
              <span>Caja </span><i [ngClass]="{'validado bi-x-circle-fill': formularioAutomovil.get('cambio')?.hasError('required'), 'error bi bi-check-circle-fill iconos' : !formularioAutomovil.get('cambio')?.hasError('required')}" id="iconoCambio"></i><span class="mensajeCambio"></span>
              <select class="form-control" formControlName="cambio" id="cambio">
                  <option value="0" selected>Seleccione el cambio...</option>
                  <option value="Manual">Manual</option>
                  <option value="Automatico">Automatico</option>
              </select>
              <!--Combustible-->
              <span>Combustible </span><i [ngClass]="{'validado bi-x-circle-fill': formularioAutomovil.get('combustible')?.hasError('required'), 'error bi bi-check-circle-fill iconos' : !formularioAutomovil.get('combustible')?.hasError('required')}" id="iconoCombustible"></i><span class="mensajeCombustible"></span>
              <select class="form-control" formControlName="combustible" id="combustible">
                  <option value="0" selected>Seleccione el combustible...</option>
                  <option value="Nafta">Gas</option>
                  <option value="Disel">Disel</option>
                  <option value="Nafta">Nafta</option>
                  <option value="Hibrido">Hibrido</option>
                  <option value="Electrico">Electrico</option>
              </select>
              <span>Valor </span><i [ngClass]="{'validado bi-x-circle-fill': formularioAutomovil.get('valor')?.hasError('required'), 'error bi bi-check-circle-fill iconos' : !formularioAutomovil.get('valor')?.hasError('required')}" id="iconoValor"></i><span class="mensajeValor"></span>
              <input type="text" class="form-control inputs" formControlName="valor" id="valor" class="form-control">
              <span>Kilometraje </span><i [ngClass]="{'validado bi-x-circle-fill': formularioAutomovil.get('kilometraje')?.hasError('required'), 'error bi bi-check-circle-fill iconos' : !formularioAutomovil.get('kilometraje')?.hasError('required')}" id="iconoKilometraje"></i><span class="mensajeKilometraje"></span>
              <input type="text" class="form-control inputs" formControlName="kilometraje" id="kilometraje" class="form-control">
              <span>A침o </span><i [ngClass]="{'validado bi-x-circle-fill': formularioAutomovil.get('anio')?.hasError('required'), 'error bi bi-check-circle-fill iconos' : !formularioAutomovil.get('anio')?.hasError('required')}" id="iconoAnio"></i><span class="mensajeAnio"></span>
              <input type="text" class="form-control inputs" formControlName="anio" id="anio" class="form-control">
              <br>
              <button type="submit" class="btn btn-success" name="publicar" id="publicar" [disabled]="formularioAutomovil.invalid">Publicar</button>
          </div>
      </div>
  </form>

    <!--Publicaciones en Tabla-->
    <div *ngIf="automovilArray.length !== 0">
      <div class="row">
        <table class="table table-dark table-striped table-bordered centrado">
          <thead>
            <tr>
              <th scope="col">Patente</th>
              <th scope="col">Marca</th>
              <th scope="col">Modelo</th>
              <th scope="col">Versi칩n</th>
              <th scope="col">Color</th>
              <th scope="col">Estado</th>
              <th scope="col">Caja</th>
              <th scope="col">Combustible</th>
              <th scope="col">Valor</th>
              <th scope="col">Kilometraje</th>
              <th scope="col">A침o</th>
              <th scope="col">Propietario</th>
              <th></th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let automovil of tablaAutomoviles">                  
              <td>
                <label *ngIf="modificando != automovil.patente">{{automovil.patente}}</label>
                <input *ngIf="modificando == automovil.patente" type="text" class="form-control" [(ngModel)]="automovil.patente">
              </td>
              <td>
                <label *ngIf="modificando != automovil.patente">{{automovil.marca}}</label>
                <input *ngIf="modificando == automovil.patente" type="text" class="form-control" [(ngModel)]="automovil.marca">
              </td>
              <td>
                <label *ngIf="modificando != automovil.patente">{{automovil.modelo}}</label>
                <input *ngIf="modificando == automovil.patente" type="text" class="form-control" [(ngModel)]="automovil.modelo">
              </td>
              <td>
                <label *ngIf="modificando != automovil.patente">{{automovil.version}}</label>
                <input *ngIf="modificando == automovil.patente" type="text" class="form-control" [(ngModel)]="automovil.version">
              </td>
              <td>
                <label *ngIf="modificando != automovil.patente">{{automovil.color}}</label>
                <input *ngIf="modificando == automovil.patente" type="text" class="form-control" [(ngModel)]="automovil.color">
              </td>
              <td>
                <label *ngIf="modificando != automovil.patente">{{automovil.estado}}</label>
                <input *ngIf="modificando == automovil.patente" type="text" class="form-control" [(ngModel)]="automovil.estado">
              </td>
              <td>
                <label *ngIf="modificando != automovil.patente">{{automovil.cambio}}</label>
                <input *ngIf="modificando == automovil.patente" type="text" class="form-control" [(ngModel)]="automovil.cambio">
              </td>
              <td>
                <label *ngIf="modificando != automovil.patente">{{automovil.combustible}}</label>
                <input *ngIf="modificando == automovil.patente" type="text" class="form-control" [(ngModel)]="automovil.combustible">
              </td>
              <td>
                <label *ngIf="modificando != automovil.patente">{{automovil.valor}}</label>
                <input *ngIf="modificando == automovil.patente" type="text" class="form-control" [(ngModel)]="automovil.valor">
              </td>
              <td>
                <label *ngIf="modificando != automovil.patente">{{automovil.kilometraje}}</label>
                <input *ngIf="modificando == automovil.patente" type="text" class="form-control" [(ngModel)]="automovil.kilometraje">
              </td>
              <td>
                <label *ngIf="modificando != automovil.patente">{{automovil.anio}}</label>
                <input *ngIf="modificando == automovil.patente" type="text" class="form-control" [(ngModel)]="automovil.anio">
              </td>
              <td>
                <label *ngIf="modificando != automovil.patente">{{automovil.propietario}}</label>
                <input *ngIf="modificando == automovil.patente" type="text" class="form-control" [(ngModel)]="automovil.propietario">
              </td>
              <td>
                <button *ngIf="modificando != automovil.patente" (click)="ModificarAutomovil(automovil.patente)" class="btn btn-warning"><i class="bi bi-pencil-square"></i></button>
                <button *ngIf="modificando == automovil.patente" (click)="ModificarAutomovil('No')" class="btn btn-warning"><i class="bi bi-file-earmark-arrow-up"></i></button>
                <button (click)="EliminarAutomovil(automovil.patente)" class="btn btn-danger"><i class="bi bi-trash"></i></button>
              </td>
            </tr>
          </tbody>
        </table>
        <br>
      </div>
    </div>
  </div>
</div>
